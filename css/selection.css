.target-beg,
.target-beg ~ *:has(~ .target-end) {
  background-color: var(--target);
}

.selection-anchor:has(~ .cursor),
.selection-anchor ~ *:has(~ .cursor) {
  background-color: var(--selected);
}

.cursor:has(~ .selection-anchor),
.cursor ~ *:has(~ .selection-anchor) {
  background-color: var(--selected);
}
